(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n;$.Define($$,{Website:{Client:{All:$.Class({get_Body:function(){return b.allData();}}),Dep:function(){var o,p,u;o=(p=e.Do(),p.Delay(function(){return p.Bind(b.LoginFormlet(),function(r){var s;s=f.Call("Website:5",[r]);if(g.Equals(s,true)){f.Call("Website:7",[r]);return p.ReturnFrom(b.allData());}else{return p.ReturnFrom(e.OfElement(function(){return i.Div(j.ofArray([i.Text("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443!")]));}));}});}));u=function(v){return e.Flowlet(v);};return u(o);},LoginFormlet:$.Field(function(){var w,x,y,z,A,C,E,G,H,I,J,K,M,O,Q,R,S,V,X;w=(x=(y=(z=k.Input(""),(A=function(B){return l.Validator().IsNotEmpty("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0412\u0430\u0448 \u043b\u043e\u0433\u0438\u043d",B);},A(z))),(C=function(D){return m.WithValidationIcon(D);},C(y))),(E=function(F){return m.WithTextLabel("\u041b\u043e\u0433\u0438\u043d",F);},E(x)));G=(H=(I=(J=k.Password(""),(K=function(L){return l.Validator().IsNotEmpty("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",L);},K(J))),(M=function(N){return m.WithValidationIcon(N);},M(I))),(O=function(P){return m.WithTextLabel("\u041f\u0430\u0440\u043e\u043b\u044c",P);},O(H)));Q=(R=l.$(l.$((S=function(T){return function(U){return{login:T,passw:U};};},e.Return(S)),w),G),(V=function(W){return m.WithSubmitButton(W);},V(R)));X=function(Y){return m.WithFormContainer(Y);};return X(Q);}),MyControl:$.Class({get_Body:function(){return b.Dep();}}),Request:$.Class({get_Body:function(){return b.RequiredData();}}),RequiredData:function(){var Z;Z=e.Do();return Z.Delay(function(){return Z.Bind(b.requestFormlet(),function(_1){var _2,_3,_4,_5,_6,bb,bc,bd,be,bf,bg;_2=f.Call("Website:3",[_1]);_3=f.Call("Website:2",[_1]);_4=(_5=(_6=$.Tupled(function(_7){var _8,_9,_;_8=_7[0];_9=_7[1];_=_7[2];return i.TR(j.ofArray([i.TD(j.ofArray([i.Text(_8)])),_9===0?i.TD(j.ofArray([i.Text("\u0440\u0435\u0448\u0438\u043b")])):i.TD(j.ofArray([i.Text("\u043d\u0435 \u0440\u0435\u0448\u0438\u043b")])),i.TD(j.ofArray([i.Text(_)]))]));}),function(ba){return j.map(_6,ba);}),_5(_2));bb=i.TR(j.ofArray([i.TD(j.ofArray([i.Text("\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0430\u043b: ")])),i.TD(j.ofArray([i.Text("")])),i.TD(j.ofArray([i.Text(_3)]))]));bc=(bd=(be=$.New(n,{$:1,$0:i.TR(j.ofArray([i.TH(j.ofArray([i.Text("\u0421\u0442\u0430\u0442\u0443\u0441")])),i.TH(j.ofArray([i.Text("\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c")])),i.TH(j.ofArray([i.Text("\u0411\u0430\u043b \u0430\u043d\u043a\u0435\u0442\u044b")]))])),$1:_4}),(bf=j.ofArray([bb]),j.append(be,bf))),(bg=function(bh){return bh;},bg(bd)));return Z.ReturnFrom(e.OfElement(function(){return i.Table(bc);}));});});},allData:function(){var bi;bi=e.Do();return bi.Delay(function(){var bk,bl,bm,bn,bt,bu,bv,bw,bx,by,bz;bk=f.Call("Website:1",[]);bl=(bm=(bn=$.Tupled(function(bo){var bp,bq,br;bp=bo[0];bq=bo[1];br=bo[2];return i.TR(j.ofArray([i.TD(j.ofArray([i.Text(bp)])),bq===0?i.TD(j.ofArray([i.Text("\u0440\u0435\u0448\u0438\u043b")])):i.TD(j.ofArray([i.Text("\u043d\u0435 \u0440\u0435\u0448\u0438\u043b")])),i.TD(j.ofArray([i.Text(br)]))]));}),function(bs){return j.map(bn,bs);}),bm(bk));bt=f.Call("Website:4",[]);bu=i.TR(j.ofArray([i.TD(j.ofArray([i.Text("\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0430\u043b: ")])),i.TD(j.ofArray([i.Text("")])),i.TD(j.ofArray([i.Text(bt)]))]));bv=(bw=(bx=$.New(n,{$:1,$0:i.TR(j.ofArray([i.TH(j.ofArray([i.Text("\u0421\u0442\u0430\u0442\u0443\u0441")])),i.TH(j.ofArray([i.Text("\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c")])),i.TH(j.ofArray([i.Text("\u0411\u0430\u043b \u0430\u043d\u043a\u0435\u0442\u044b")]))])),$1:bl}),(by=j.ofArray([bu]),j.append(bx,by))),(bz=function(bA){return bA;},bz(bw)));return bi.ReturnFrom(e.OfElement(function(){return i.Table(bv);}));});},requestFormlet:$.Field(function(){var bC,bD,bE,bF,bH,bJ,bK,bL,bM,bO,bQ,bR,bS,bU,bV,bW,bY,bZ,b0,b5,b7;bC=(bD=(bE=k.RadioButtonGroup({$:0},f.Call("Website:0",[])),(bF=function(bG){return e.Horizontal(bG);},bF(bE))),(bH=function(bI){return m.WithLegend("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0438\u0445 \u0412\u0430\u0441 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",bI);},bH(bD)));bJ=(bK=(bL=k.RadioButtonGroup({$:0},j.ofArray([["\u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",2],["\u0441\u043f\u0440\u0430\u0432\u0438\u043b\u0441\u044f",0],["\u043d\u0435 \u0441\u043f\u0440\u0430\u0432\u0438\u043b\u0441\u044f",1]])),(bM=function(bN){return e.Horizontal(bN);},bM(bL))),(bO=function(bP){return m.WithLegend("\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u0434\u0430\u0447\u0438:",bP);},bO(bK)));bQ=(bR=k.Input("YYYY-MM-DD"),(bS=function(bT){return m.WithTextLabel("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043d\u0430\u0447\u0430\u043b\u0430",bT);},bS(bR)));bU=(bV=k.Input("\u0441\u0435\u0433\u043e\u0434\u043d\u044f"),(bW=function(bX){return m.WithTextLabel("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",bX);},bW(bV)));bY=(bZ=l.$(l.$(l.$(l.$((b0=function(b1){return function(b2){return function(b3){return function(b4){return{status:b1,success:b2,beginning:b3,ending:b4};};};};},e.Return(b0)),bC),bJ),bQ),bU),(b5=function(b6){return m.WithSubmitButton(b6);},b5(bZ)));b7=function(b8){return m.WithFormContainer(b8);};return b7(bY);})}}});$.OnInit(function(){a=$.Safe($$.Website);b=$.Safe(a.Client);c=$.Safe($$.IntelliFactory.WebSharper);d=$.Safe(c.Formlet);e=$.Safe(d.Formlet);f=$.Safe(c.Remoting);g=$.Safe(c.Unchecked);h=$.Safe(c.Html);i=$.Safe(h.Default);j=$.Safe(c.List);k=$.Safe(d.Controls);l=$.Safe(d.Data);m=$.Safe(d.Enhance);return n=$.Safe(j.T);});$.OnLoad(function(){b.requestFormlet();b.LoginFormlet();});}());
